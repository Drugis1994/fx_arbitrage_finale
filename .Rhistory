source("~/Documents/tri_fx_arbitrage_project_v3/R/trading_bot.R")
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/C.motor.cpp")
grep -R --line-number -E '^\s*#\s*define\s+Rcpp\b' \
grep -R --line-number -E '^\s*#\s*define\s+Rcpp\b' \
grep -n --line-number '\-DRcpp' ~/.R/Makevars* ./src/Makevars* 2>/dev/null || true
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/trading.bot.helpers.cpp")
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/trading.bot.helpers.cpp")
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/trading.bot.helpers.cpp")
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/trading.bot.helpers.cpp")
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/trading.bot.helpers.cpp")
Rcpp::sourceCpp("Documents/tri_fx_arbitrage_project_v3/R/CbotHelper.cpp")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
verify_routes(state)
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
# Run.R
# --- Libraries ---
suppressPackageStartupMessages({
library(Rcpp); library(httr2); library(jsonlite)
library(dplyr); library(lubridate); library(readr)
library(curl);  library(rlang);     library(tidyr); library(dotenv)
})
# --- Reset debug state ---
suppressWarnings({
options(error = NULL)
debuggingState(FALSE)
try(undebug(base::open.connection), silent = TRUE)
try(undebug(base::readBin),        silent = TRUE)
try(untrace(base::open.connection), silent = TRUE)
try(untrace(base::readBin),         silent = TRUE)
})
# --- Project root ---
Sys.setenv(CURL_DNS_SERVERS = "1.1.1.1,8.8.8.8")
setwd("~/Documents/FX_ARBITRAGE_FINALE copy")
ROOT <- getwd()
readRenviron(file.path(ROOT, ".env"))
`%||%` <- function(x, y) if (is.null(x)) y else x
# --- Tuning knobs ---
options(
arb.matrix_tol           = 1e-12,
arb.K                    = 300L,
arb.fee_pct              = 0,
arb.assumed_slip_bps     = 0,
arb.safety_buffer_bps    = 0,
arb.k_slip               = 0,
arb.rvbps_fallback_bps   = 0,
arb.near_window_bps      = 0,
arb.min_interval_ms      = 0L,
arb.min_interval_fast_ms = 1L,
arb.start_ccy            = "USD",
arb.bankroll             = 100000,
arb.bps_scale            = 1e4,
arb.min_edge_bps         = 0L
)
# --- Load core files ---
source(file.path(ROOT, "R/core_runtime.R"))
source(file.path(ROOT, "R/DS.R"))
source(file.path(ROOT, "R/Trading_Bot.R"))
source(file.path(ROOT, "R/engine_bindings.R"))
# --- Load C++ engine ---
engine_load(file.path(ROOT, "C++", "build", "libengine_v4.dylib"))
message("âœ… All core scripts loaded.")
# --- Bootstrap ---
stopifnot(DS$has_auth())
cat("ðŸš€ Oppsett klartâ€¦\n")
all_instr <- DS$list_symbols()
STREAM_UNIVERSE <- head(sort(all_instr), 100L)
cat(sprintf("\nðŸ“¦ Abonnerer pÃ¥ %d instrumenter:\n%s\n",
length(STREAM_UNIVERSE),
paste(STREAM_UNIVERSE, collapse = ", ")))
# --- Build state ---
state <- init_state(
DS          = DS,
instruments = STREAM_UNIVERSE,
start_ccy   = getOption("arb.start_ccy")
)
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
DS$get_time()
DS$list_prices("EUR_USD")
check_market_status <- function() {
p <- DS$list_prices("EUR_USD")
if (is.null(p$prices)) {
return("âŒ Ikke Ã¥pnet â€“ null prices")
}
q <- p$prices[[1]]
if (is.null(q$bids) || is.null(q$asks)) {
return("âŒ Server oppe, men ingen bid/ask â€“ PRACTICE ikke Ã¥pnet")
}
return("âœ… Server aktiv â€“ MARKET OPEN")
}
source("~/Documents/FX_ARBITRAGE_FINALE copy/R/DS.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/R/core_runtime.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/R/trading_bot.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
check_market_status <- function() {
p <- DS$list_prices("EUR_USD")
if (is.null(p$prices)) {
return("âŒ Ikke Ã¥pnet â€“ null prices")
}
q <- p$prices[[1]]
if (is.null(q$bids) || is.null(q$asks)) {
return("âŒ Server oppe, men ingen bid/ask â€“ PRACTICE ikke Ã¥pnet")
}
return("âœ… Server aktiv â€“ MARKET OPEN")
}
check_market_status <- function() {
p <- DS$list_prices("EUR_USD")
if (is.null(p$prices)) {
return("âŒ Ikke Ã¥pnet â€“ null prices")
}
q <- p$prices[[1]]
if (is.null(q$bids) || is.null(q$asks)) {
return("âŒ Server oppe, men ingen bid/ask â€“ PRACTICE ikke Ã¥pnet")
}
return("âœ… Server aktiv â€“ MARKET OPEN")
}
check_market_status <- function() {
p <- DS$list_prices("EUR_USD")
if (is.null(p$prices)) {
return("âŒ Ikke Ã¥pnet â€“ null prices")
}
q <- p$prices[[1]]
if (is.null(q$bids) || is.null(q$asks)) {
return("âŒ Server oppe, men ingen bid/ask â€“ PRACTICE ikke Ã¥pnet")
}
return("âœ… Server aktiv â€“ MARKET OPEN")
}
ss
check_market_status <- function() {
p <- DS$list_prices("EUR_USD")
if (is.null(p$prices)) {
return("âŒ Ikke Ã¥pnet â€“ null prices")
}
q <- p$prices[[1]]
if (is.null(q$bids) || is.null(q$asks)) {
return("âŒ Server oppe, men ingen bid/ask â€“ PRACTICE ikke Ã¥pnet")
}
return("âœ… Server aktiv â€“ MARKET OPEN")
}
check_market_status()
DS
ls(DS)
methods(class = class(DS))
p <- DS$list_prices("EUR_USD")
print(DS)
class(DS)
ls(DS)
exists("DS")
is.environment(DS)
print(check_market_status)
class(check_market_status)
rm(DS)
source(file.path(ROOT, "R/DS.R"))
is.environment(DS)
ls(DS)
DS$describe()
View(state)
rm(list = ls())
gc()
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
is.environment(DS)
is.ls(DS)
ls(ds)
list(DS)
DS$get_server_time <- NULL
"get_server_time" %in% names(DS)
str(DS, 1)
DS$list_prices("EUR_USD")
grep("get_server_time", list.files("R", full.names = TRUE), value = TRUE)
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
DS$snapshot("EUR_USD")
getwd()
> DS$list_prices("EUR_USD")
> DS$list_prices("EUR_USD")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
# Run.R
# --- Libraries ---
suppressPackageStartupMessages({
library(Rcpp); library(httr2); library(jsonlite)
library(dplyr); library(lubridate); library(readr)
library(curl);  library(rlang);     library(tidyr); library(dotenv)
})
# --- Reset debug state ---
suppressWarnings({
options(error = NULL)
debuggingState(FALSE)
try(undebug(base::open.connection), silent = TRUE)
try(undebug(base::readBin),        silent = TRUE)
try(untrace(base::open.connection), silent = TRUE)
try(untrace(base::readBin),         silent = TRUE)
})
# --- Project root ---
Sys.setenv(CURL_DNS_SERVERS = "1.1.1.1,8.8.8.8")
setwd("~/Documents/FX_ARBITRAGE_FINALE copy")
ROOT <- getwd()
readRenviron(file.path(ROOT, ".env"))
`%||%` <- function(x, y) if (is.null(x)) y else x
# --- Tuning knobs ---
options(
arb.matrix_tol           = 1e-12,
arb.K                    = 300L,
arb.fee_pct              = 0,
arb.assumed_slip_bps     = 0,
arb.safety_buffer_bps    = 0,
arb.k_slip               = 0,
arb.rvbps_fallback_bps   = 0,
arb.near_window_bps      = 0,
arb.min_interval_ms      = 0L,
arb.min_interval_fast_ms = 1L,
arb.start_ccy            = "USD",
arb.bankroll             = 100000,
arb.bps_scale            = 1e4,
arb.min_edge_bps         = 0L
)
# --- Load core files ---
source(file.path(ROOT, "R/core_runtime.R"))
source(file.path(ROOT, "R/DirectStream.R"))
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
# Run.R
# --- Libraries ---
suppressPackageStartupMessages({
library(Rcpp); library(httr2); library(jsonlite)
library(dplyr); library(lubridate); library(readr)
library(curl);  library(rlang);     library(tidyr); library(dotenv)
})
# --- Reset debug state ---
suppressWarnings({
options(error = NULL)
debuggingState(FALSE)
try(undebug(base::open.connection), silent = TRUE)
try(undebug(base::readBin),        silent = TRUE)
try(untrace(base::open.connection), silent = TRUE)
try(untrace(base::readBin),         silent = TRUE)
})
# --- Project root ---
Sys.setenv(CURL_DNS_SERVERS = "1.1.1.1,8.8.8.8")
setwd("~/Documents/FX_ARBITRAGE_FINALE copy")
ROOT <- "~/Documents/FX_ARBITRAGE_FINALE copy"
readRenviron(file.path(ROOT, ".env"))
`%||%` <- function(x, y) if (is.null(x)) y else x
# --- Tuning knobs ---
options(
arb.matrix_tol           = 1e-12,
arb.K                    = 300L,
arb.fee_pct              = 0,
arb.assumed_slip_bps     = 0,
arb.safety_buffer_bps    = 0,
arb.k_slip               = 0,
arb.rvbps_fallback_bps   = 0,
arb.near_window_bps      = 0,
arb.min_interval_ms      = 0L,
arb.min_interval_fast_ms = 1L,
arb.start_ccy            = "USD",
arb.bankroll             = 100000,
arb.bps_scale            = 1e4,
arb.min_edge_bps         = 0L
)
# --- Load core files ---
source(file.path(ROOT, "R/core_runtime.R"))
source(file.path(ROOT, "R/DirectStream.R"))
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
if (is.na(bid) || is.na(ask)) return()
if (anyNA(c(p1, p2, p3))) return(NA_real_)
if (!is.finite(product)) return(NA_real_)
source("~/Documents/FX_ARBITRAGE_FINALE copy/R/DirectStream.R")
source("~/Documents/FX_ARBITRAGE_FINALE copy/run.R")
View(wrapped_on_tick)
View(wrapped_on_tick)
View(wrapped_on_tick)
getwd()
source("~/FX_ARBITRAGE_FINALE copy/run.R")
source("~/FX_ARBITRAGE_FINALE copy/run.R")
source("~/FX_ARBITRAGE_FINALE copy/run.R")
